{"remainingRequest":"f:\\黑买买买\\heimai\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!f:\\黑买买买\\heimai\\src\\components\\02.detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"f:\\黑买买买\\heimai\\src\\components\\02.detail.vue","mtime":1554969745634},{"path":"f:\\黑买买买\\heimai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"f:\\黑买买买\\heimai\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"f:\\黑买买买\\heimai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"f:\\黑买买买\\heimai\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      goodsinfo: {},\r\n      hotgoodslist: {},\r\n      imglist: [],\r\n      buycount: 1\r\n    };\r\n  },\r\n  methods: {\r\n    getData(id) {\r\n      window.scrollTo(0,0);\r\n      this.$http\r\n        .get(`site/goods/getgoodsinfo/${id}`)\r\n        .then(res => {\r\n          console.log(res);\r\n          this.goodsinfo = res.data.message.goodsinfo;\r\n          this.hotgoodslist = res.data.message.hotgoodslist;\r\n          this.imglist = res.data.message.imglist;\r\n        });\r\n    }\r\n  },\r\n  watch: {\r\n    // $route侦听的是 $router这个对象的所有数据,管的太宽了,我们只需要侦听 id的变化就行了,所以用\r\n    // 下面这种,不过用$route也可以,只是获取值是整个对象,有点多,而我们只需要新id就够了\r\n    \"$route.params.id\"(newValue, oldValue) {\r\n      this.getData(newValue);\r\n    }\r\n  },\r\n  created() {\r\n     this.getData(this.$route.params.id);\r\n  }\r\n};\r\n",{"version":3,"sources":["02.detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"02.detail.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"section\">\r\n      <div class=\"location\">\r\n        <span>当前位置：</span>\r\n        <a href=\"/index.html\">首页</a> &gt;\r\n        <a href=\"/goods.html\">购物商城</a> &gt;\r\n        <a href=\"/goods/42/1.html\">商品详情</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"section\">\r\n      <div class=\"wrapper clearfix\">\r\n        <div class=\"wrap-box\">\r\n          <div class=\"left-925\">\r\n            <div class=\"goods-box clearfix\">\r\n              <div class=\"pic-box\"></div>\r\n              <div class=\"goods-spec\">\r\n                <h1>{{goodsinfo.title}}</h1>\r\n                <p class=\"subtitle\">{{goodsinfo.sub_title}}</p>\r\n                <div class=\"spec-box\">\r\n                  <dl>\r\n                    <dt>货号</dt>\r\n                    <dd id=\"commodityGoodsNo\">{{goodsinfo.goods_no}}</dd>\r\n                  </dl>\r\n                  <dl>\r\n                    <dt>市场价</dt>\r\n                    <dd>\r\n                      <s id=\"commodityMarketPrice\">¥{{goodsinfo.market_price}}</s>\r\n                    </dd>\r\n                  </dl>\r\n                  <dl>\r\n                    <dt>销售价</dt>\r\n                    <dd>\r\n                      <em id=\"commoditySellPrice\" class=\"price\">¥{{goodsinfo.sell_price}}</em>\r\n                    </dd>\r\n                  </dl>\r\n                </div>\r\n                <div class=\"spec-box\">\r\n                  <dl>\r\n                    <dt>购买数量</dt>\r\n                    <dd>\r\n                      <div class=\"stock-box\">\r\n                        <!-- 使用饿了吗UI计数器 -->\r\n                        <el-input-number\r\n                          v-model=\"buycount\"\r\n                          :min=\"1\"\r\n                          :max=\"goodsinfo.stock_quantity\"\r\n                          label=\"描述文字\"\r\n                        ></el-input-number>\r\n                      </div>\r\n                      <span class=\"stock-txt\">\r\n                        库存\r\n                        <em id=\"commodityStockNum\">{{goodsinfo.stock_quantity}}</em>件\r\n                      </span>\r\n                    </dd>\r\n                  </dl>\r\n                  <dl>\r\n                    <dd>\r\n                      <div id=\"buyButton\" class=\"btn-buy\">\r\n                        <button onclick=\"cartAdd(this,'/',1,'/shopping.html');\" class=\"buy\">立即购买</button>\r\n                        <button onclick=\"cartAdd(this,'/',0,'/cart.html');\" class=\"add\">加入购物车</button>\r\n                      </div>\r\n                    </dd>\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"goodsTabs\" class=\"goods-tab bg-wrap\">\r\n              <div\r\n                id=\"tabHead\"\r\n                class=\"tab-head\"\r\n                style=\"position: static; top: 517px; width: 925px;\"\r\n              >\r\n                <ul>\r\n                  <li>\r\n                    <a href=\"javascript:;\" class=\"selected\">商品介绍</a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"javascript:;\">商品评论</a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"tab-content entry\" style=\"display: block;\" v-html=\"goodsinfo.content\"></div>\r\n              <div class=\"tab-content\" style=\"display: block;\">\r\n                <div class=\"comment-box\">\r\n                  <div id=\"commentForm\" name=\"commentForm\" class=\"form-box\">\r\n                    <div class=\"avatar-box\">\r\n                      <i class=\"iconfont icon-user-full\"></i>\r\n                    </div>\r\n                    <div class=\"conn-box\">\r\n                      <div class=\"editor\">\r\n                        <textarea\r\n                          id=\"txtContent\"\r\n                          name=\"txtContent\"\r\n                          sucmsg=\" \"\r\n                          data-type=\"*10-1000\"\r\n                          nullmsg=\"请填写评论内容！\"\r\n                        ></textarea>\r\n                        <span class=\"Validform_checktip\"></span>\r\n                      </div>\r\n                      <div class=\"subcon\">\r\n                        <input\r\n                          id=\"btnSubmit\"\r\n                          name=\"submit\"\r\n                          type=\"submit\"\r\n                          value=\"提交评论\"\r\n                          class=\"submit\"\r\n                        >\r\n                        <span class=\"Validform_checktip\"></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <ul id=\"commentList\" class=\"list-box\">\r\n                    <p\r\n                      style=\"margin: 5px 0px 15px 69px; line-height: 42px; text-align: center; border: 1px solid rgb(247, 247, 247);\"\r\n                    >暂无评论，快来抢沙发吧！</p>\r\n                    <li>\r\n                      <div class=\"avatar-box\">\r\n                        <i class=\"iconfont icon-user-full\"></i>\r\n                      </div>\r\n                      <div class=\"inner-box\">\r\n                        <div class=\"info\">\r\n                          <span>匿名用户</span>\r\n                          <span>2017/10/23 14:58:59</span>\r\n                        </div>\r\n                        <p>testtesttest</p>\r\n                      </div>\r\n                    </li>\r\n                    <li>\r\n                      <div class=\"avatar-box\">\r\n                        <i class=\"iconfont icon-user-full\"></i>\r\n                      </div>\r\n                      <div class=\"inner-box\">\r\n                        <div class=\"info\">\r\n                          <span>匿名用户</span>\r\n                          <span>2017/10/23 14:59:36</span>\r\n                        </div>\r\n                        <p>很清晰调动单很清晰调动单</p>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                  <div class=\"page-box\" style=\"margin: 5px 0px 0px 62px;\">\r\n                    <div id=\"pagination\" class=\"digg\">\r\n                      <span class=\"disabled\">« 上一页</span>\r\n                      <span class=\"current\">1</span>\r\n                      <span class=\"disabled\">下一页 »</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"left-220\">\r\n            <div class=\"bg-wrap nobg\">\r\n              <div class=\"sidebar-box\">\r\n                <h4>推荐商品</h4>\r\n                <ul class=\"side-img-list\">\r\n                  <li v-for=\"it in hotgoodslist\">\r\n                    <div class=\"img-box\">\r\n                      <!-- <a href=\"#/site/goodsinfo/90\" class> -->\r\n                      <router-link :to=\"'/detail/'+it.id\">\r\n                        <img :src=\"it.img_url\">\r\n                      </router-link>\r\n                      <!-- </a> -->\r\n                    </div>\r\n                    <div class=\"txt-box\">\r\n                      <router-link :to=\"'/detail/'+it.id\">{{it.title}}</router-link>\r\n                      <span>{{it.add_time | formatTime('YYYY-MM-DD')}}</span>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      goodsinfo: {},\r\n      hotgoodslist: {},\r\n      imglist: [],\r\n      buycount: 1\r\n    };\r\n  },\r\n  methods: {\r\n    getData(id) {\r\n      window.scrollTo(0,0);\r\n      this.$http\r\n        .get(`site/goods/getgoodsinfo/${id}`)\r\n        .then(res => {\r\n          console.log(res);\r\n          this.goodsinfo = res.data.message.goodsinfo;\r\n          this.hotgoodslist = res.data.message.hotgoodslist;\r\n          this.imglist = res.data.message.imglist;\r\n        });\r\n    }\r\n  },\r\n  watch: {\r\n    // $route侦听的是 $router这个对象的所有数据,管的太宽了,我们只需要侦听 id的变化就行了,所以用\r\n    // 下面这种,不过用$route也可以,只是获取值是整个对象,有点多,而我们只需要新id就够了\r\n    \"$route.params.id\"(newValue, oldValue) {\r\n      this.getData(newValue);\r\n    }\r\n  },\r\n  created() {\r\n     this.getData(this.$route.params.id);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>"]}]}